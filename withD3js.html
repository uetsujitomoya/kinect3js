<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <title>D3.jsの練習</title>
</head>
<body>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script>
        var data = csv2Array('HDFaceData.csv');

        var dataset = [11, 25, 45, 30, 33];

        var w = 500;
        var h = 200;

        var svg = d3.select("body").append("svg").attr({width:w, height:h});

        svg.selectAll("circle")
            .data(dataset)
            .enter()
            .append("circle")
            .attr({
                cx: function(d, i) { return 50 + ( i * 100); },
                cy: h / 2,
                r: 0,
                fill: "red"
            })
            .attr({
                r: function(d) { return d; }
            });
            
        function csv2Array(filePath) { //csvﾌｧｲﾙﾉ相対ﾊﾟｽor絶対ﾊﾟｽ
        	var csvData = [];
        	var data = new XMLHttpRequest();
        	data.open("GET", filePath, false); //true:非同期,false:同期
        	data.send(null);
        
        	var LF = String.fromCharCode(10); //改行ｺｰﾄﾞ
        	var lines = data.responseText.split(LF);
        	for (var i = 0; i < lines.length;++i) {
        		var cells = lines[i].split(",");
        		if( cells.length != 1 ) {
        			csvData.push(cells);
        		}
        	}
        	return csvData;
        }            
        


    </script>
</body>
</html>